{"version":3,"file":"static/js/365.70743bc8.chunk.js","mappings":"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","sources":["components/customer/CustomerPanel.js","../node_modules/date-fns/esm/addDays/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n\tformat,\r\n\taddDays,\r\n\taddMonths,\r\n\teachDayOfInterval,\r\n\tisSameDay,\r\n} from \"date-fns\";\r\nimport { id } from \"date-fns/locale\";\r\n\r\nfunction CustomerPanel() {\r\n\tconst [packages, setPackages] = useState([]);\r\n\tconst [selectedPackage, setSelectedPackage] = useState(null);\r\n\tconst [paymentStartDate, setPaymentStartDate] = useState(new Date());\r\n\tconst [paymentDuration, setPaymentDuration] = useState(1);\r\n\tconst [selectedDates, setSelectedDates] = useState([]);\r\n\tconst [totalAmount, setTotalAmount] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchPackages();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (selectedPackage) {\r\n\t\t\tcalculateTotalAmount();\r\n\t\t}\r\n\t}, [selectedDates, selectedPackage]);\r\n\r\n\tconst fetchPackages = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(\"http://localhost:3001/api/packages\");\r\n\t\t\tsetPackages(response.data);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(\"Failed to fetch packages\", err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handlePackageSelect = (pkg) => {\r\n\t\tsetSelectedPackage(pkg);\r\n\t\tsetSelectedDates([]);\r\n\t\tsetPaymentStartDate(new Date());\r\n\t\tsetPaymentDuration(1);\r\n\t};\r\n\r\n\tconst calculateDailyRate = (packageAmount, paymentMethod) => {\r\n\t\tswitch (paymentMethod) {\r\n\t\t\tcase \"daily\":\r\n\t\t\t\treturn packageAmount;\r\n\t\t\tcase \"weekly\":\r\n\t\t\t\treturn packageAmount / 7;\r\n\t\t\tcase \"monthly\":\r\n\t\t\t\treturn packageAmount / 30;\r\n\t\t\tdefault:\r\n\t\t\t\treturn packageAmount;\r\n\t\t}\r\n\t};\r\n\r\n\tconst calculateTotalAmount = () => {\r\n\t\tif (!selectedPackage) return 0;\r\n\r\n\t\tconst dailyRate = calculateDailyRate(\r\n\t\t\tselectedPackage.payment_amount,\r\n\t\t\tselectedPackage.payment_method\r\n\t\t);\r\n\t\tconst total = selectedDates.length * dailyRate;\r\n\t\tsetTotalAmount(total);\r\n\t};\r\n\r\n\tconst handleDateSelect = (date) => {\r\n\t\tconst dateStr = format(date, \"yyyy-MM-dd\");\r\n\t\tsetSelectedDates((prev) => {\r\n\t\t\tif (prev.includes(dateStr)) {\r\n\t\t\t\treturn prev.filter((d) => d !== dateStr);\r\n\t\t\t} else {\r\n\t\t\t\treturn [...prev, dateStr];\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleConfirmPayment = async () => {\r\n\t\tif (selectedDates.length === 0) {\r\n\t\t\talert(\"Pilih setidaknya satu tanggal pembayaran\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst paymentData = {\r\n\t\t\tcustomerId: 1, // TODO: replace with actual logged-in customer ID\r\n\t\t\tpackageId: selectedPackage.id,\r\n\t\t\tamount: totalAmount,\r\n\t\t\tpaymentDate: new Date().toISOString(),\r\n\t\t\tselectedDates: selectedDates,\r\n\t\t\tpaymentMethod: selectedPackage.payment_method,\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post(\r\n\t\t\t\t\"http://localhost:3001/api/payments\",\r\n\t\t\t\tpaymentData\r\n\t\t\t);\r\n\t\t\talert(response.data.message);\r\n\t\t\t// Optionally reset selections or refresh data here\r\n\t\t} catch (error) {\r\n\t\t\tif (error.response && error.response.data) {\r\n\t\t\t\talert(\r\n\t\t\t\t\t`Gagal konfirmasi pembayaran: ${error.response.data.error}\\n` +\r\n\t\t\t\t\t\t(error.response.data.duplicateDates\r\n\t\t\t\t\t\t\t? `Tanggal duplikat: ${error.response.data.duplicateDates.join(\r\n\t\t\t\t\t\t\t\t\t\", \"\r\n\t\t\t\t\t\t\t  )}`\r\n\t\t\t\t\t\t\t: \"\")\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"Gagal konfirmasi pembayaran: \" + error.message);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderCalendar = () => {\r\n\t\tif (!selectedPackage) return null;\r\n\r\n\t\tconst endDate =\r\n\t\t\tselectedPackage.payment_method === \"monthly\"\r\n\t\t\t\t? addMonths(paymentStartDate, paymentDuration)\r\n\t\t\t\t: addDays(\r\n\t\t\t\t\t\tpaymentStartDate,\r\n\t\t\t\t\t\tpaymentDuration *\r\n\t\t\t\t\t\t\t(selectedPackage.payment_method === \"weekly\" ? 7 : 30)\r\n\t\t\t\t  );\r\n\r\n\t\tconst daysInMonth = eachDayOfInterval({\r\n\t\t\tstart: paymentStartDate,\r\n\t\t\tend: endDate,\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"mt-6\">\r\n\t\t\t\t<h3 className=\"text-lg font-semibold mb-4\">\r\n\t\t\t\t\tPilih Tanggal Pembayaran:\r\n\t\t\t\t</h3>\r\n\t\t\t\t<div className=\"grid grid-cols-7 gap-1 mb-4\">\r\n\t\t\t\t\t{[\"M\", \"S\", \"S\", \"R\", \"K\", \"J\", \"S\"].map((day) => (\r\n\t\t\t\t\t\t<div key={day} className=\"text-center font-semibold text-sm py-1\">\r\n\t\t\t\t\t\t\t{day}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"grid grid-cols-7 gap-1\">\r\n\t\t\t\t\t{daysInMonth.map((day) => {\r\n\t\t\t\t\t\tconst dateStr = format(day, \"yyyy-MM-dd\");\r\n\t\t\t\t\t\tconst isSelected = selectedDates.includes(dateStr);\r\n\t\t\t\t\t\tconst isCurrentMonth =\r\n\t\t\t\t\t\t\tday.getMonth() === paymentStartDate.getMonth();\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tkey={dateStr}\r\n\t\t\t\t\t\t\t\tonClick={() => handleDateSelect(day)}\r\n\t\t\t\t\t\t\t\tclassName={`p-2 rounded-full text-sm ${\r\n\t\t\t\t\t\t\t\t\tisSelected\r\n\t\t\t\t\t\t\t\t\t\t? \"bg-indigo-600 text-white\"\r\n\t\t\t\t\t\t\t\t\t\t: isCurrentMonth\r\n\t\t\t\t\t\t\t\t\t\t? \"bg-white text-gray-800\"\r\n\t\t\t\t\t\t\t\t\t\t: \"bg-gray-100 text-gray-400\"\r\n\t\t\t\t\t\t\t\t} ${isCurrentMonth ? \"hover:bg-indigo-100\" : \"\"}`}\r\n\t\t\t\t\t\t\t\tdisabled={!isCurrentMonth}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{format(day, \"d\")}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"p-4 max-w-5xl mx-auto bg-gray-50 min-h-screen\">\r\n\t\t\t<h1 className=\"text-3xl font-bold mb-6 text-center text-gray-800\">\r\n\t\t\t\tPanel Pelanggan\r\n\t\t\t</h1>\r\n\r\n\t\t\t{/* Package Selection */}\r\n\t\t\t<div className=\"bg-white rounded-lg shadow-md p-6 mb-6\">\r\n\t\t\t\t<h2 className=\"text-xl font-semibold mb-4\">Pilih Paket</h2>\r\n\t\t\t\t{packages.length === 0 ? (\r\n\t\t\t\t\t<p className=\"text-gray-600\">Tidak ada paket tersedia.</p>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n\t\t\t\t\t\t{packages.map((pkg) => (\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={pkg.id}\r\n\t\t\t\t\t\t\t\tonClick={() => handlePackageSelect(pkg)}\r\n\t\t\t\t\t\t\t\tclassName={`p-4 border rounded-lg cursor-pointer transition-all ${\r\n\t\t\t\t\t\t\t\t\tselectedPackage?.id === pkg.id\r\n\t\t\t\t\t\t\t\t\t\t? \"border-indigo-500 bg-indigo-50\"\r\n\t\t\t\t\t\t\t\t\t\t: \"border-gray-200 hover:border-indigo-300\"\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<h3 className=\"font-bold text-lg text-gray-800\">{pkg.name}</h3>\r\n\t\t\t\t\t\t\t\t<p className=\"text-gray-600 text-sm mb-2\">{pkg.description}</p>\r\n\t\t\t\t\t\t\t\t<div className=\"flex justify-between items-center mt-2\">\r\n\t\t\t\t\t\t\t\t\t<span className=\"font-semibold text-indigo-600\">\r\n\t\t\t\t\t\t\t\t\t\tRp {pkg.payment_amount.toLocaleString(\"id-ID\")}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"text-xs px-2 py-1 bg-gray-100 rounded-full\">\r\n\t\t\t\t\t\t\t\t\t\t{pkg.payment_method === \"daily\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"Harian\"\r\n\t\t\t\t\t\t\t\t\t\t\t: pkg.payment_method === \"weekly\"\r\n\t\t\t\t\t\t\t\t\t\t\t? \"Mingguan\"\r\n\t\t\t\t\t\t\t\t\t\t\t: \"Bulanan\"}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\r\n\t\t\t{/* Payment Section */}\r\n\t\t\t{selectedPackage && (\r\n\t\t\t\t<div className=\"bg-white rounded-lg shadow-md p-6\">\r\n\t\t\t\t\t<h2 className=\"text-xl font-semibold mb-4\">Konfirmasi Pembayaran</h2>\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<h3 className=\"font-medium mb-2\">\r\n\t\t\t\t\t\t\tPaket Terpilih: {selectedPackage.name}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t<p className=\"text-gray-600 mb-1\">\r\n\t\t\t\t\t\t\tMetode Pembayaran:{\" \"}\r\n\t\t\t\t\t\t\t{selectedPackage.payment_method === \"daily\"\r\n\t\t\t\t\t\t\t\t? \"Harian\"\r\n\t\t\t\t\t\t\t\t: selectedPackage.payment_method === \"weekly\"\r\n\t\t\t\t\t\t\t\t? \"Mingguan\"\r\n\t\t\t\t\t\t\t\t: \"Bulanan\"}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className=\"text-gray-600\">\r\n\t\t\t\t\t\t\tHarga Paket: Rp{\" \"}\r\n\t\t\t\t\t\t\t{selectedPackage.payment_amount.toLocaleString(\"id-ID\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<label className=\"block font-medium mb-2\">Mulai Tanggal:</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\t\t\tvalue={format(paymentStartDate, \"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\tonChange={(e) => setPaymentStartDate(new Date(e.target.value))}\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"mb-4\">\r\n\t\t\t\t\t\t<label className=\"block font-medium mb-2\">\r\n\t\t\t\t\t\t\tDurasi (\r\n\t\t\t\t\t\t\t{selectedPackage.payment_method === \"daily\"\r\n\t\t\t\t\t\t\t\t? \"Hari\"\r\n\t\t\t\t\t\t\t\t: selectedPackage.payment_method === \"weekly\"\r\n\t\t\t\t\t\t\t\t? \"Minggu\"\r\n\t\t\t\t\t\t\t\t: \"Bulan\"}\r\n\t\t\t\t\t\t\t):\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tmin=\"1\"\r\n\t\t\t\t\t\t\tmax={selectedPackage.payment_method === \"monthly\" ? \"12\" : \"31\"}\r\n\t\t\t\t\t\t\tvalue={paymentDuration}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetPaymentDuration(parseInt(e.target.value) || 1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName=\"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{renderCalendar()}\r\n\r\n\t\t\t\t\t{selectedDates.length > 0 && (\r\n\t\t\t\t\t\t<div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n\t\t\t\t\t\t\t<h3 className=\"font-semibold mb-2\">Rincian Pembayaran:</h3>\r\n\t\t\t\t\t\t\t<p>Jumlah Hari: {selectedDates.length}</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tHarga per Hari: Rp{\" \"}\r\n\t\t\t\t\t\t\t\t{calculateDailyRate(\r\n\t\t\t\t\t\t\t\t\tselectedPackage.payment_amount,\r\n\t\t\t\t\t\t\t\t\tselectedPackage.payment_method\r\n\t\t\t\t\t\t\t\t).toLocaleString(\"id-ID\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className=\"font-bold mt-2\">\r\n\t\t\t\t\t\t\t\tTotal Pembayaran: Rp {totalAmount.toLocaleString(\"id-ID\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={handleConfirmPayment}\r\n\t\t\t\t\t\tclassName=\"mt-6 w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tKonfirmasi Pembayaran\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default CustomerPanel;\r\n","import toInteger from \"../_lib/toInteger/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} - the new date with the days added\n * @throws {TypeError} - 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport default function addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n  date.setDate(date.getDate() + amount);\n  return date;\n}"],"names":["packages","setPackages","useState","selectedPackage","setSelectedPackage","paymentStartDate","setPaymentStartDate","Date","paymentDuration","setPaymentDuration","selectedDates","setSelectedDates","totalAmount","setTotalAmount","useEffect","fetchPackages","calculateTotalAmount","async","response","axios","get","data","err","console","error","calculateDailyRate","packageAmount","paymentMethod","dailyRate","payment_amount","payment_method","total","length","_jsxs","className","children","_jsx","map","pkg","onClick","handlePackageSelect","concat","id","name","description","toLocaleString","type","value","format","onChange","e","target","min","max","parseInt","renderCalendar","endDate","addMonths","dirtyDate","dirtyAmount","requiredArgs","arguments","date","toDate","amount","toInteger","isNaN","NaN","setDate","getDate","addDays","daysInMonth","eachDayOfInterval","start","end","day","dateStr","isSelected","includes","isCurrentMonth","getMonth","prev","filter","d","handleDateSelect","disabled","alert","paymentData","customerId","packageId","paymentDate","toISOString","post","message","duplicateDates","join"],"sourceRoot":""}