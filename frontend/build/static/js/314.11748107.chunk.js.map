{"version":3,"file":"static/js/314.11748107.chunk.js","mappings":"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","sources":["auth/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useAuth } from \"../App\";\r\n\r\nfunction Login() {\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [error, setError] = useState(\"\");\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst navigate = useNavigate();\r\n\tconst auth = useAuth();\r\n\r\n\tconst handleLogin = (userData) => {\r\n\t\tlogin(userData);\r\n\t\tnavigate(`/${userData.role}`);\r\n\t};\r\n\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetError(\"\");\r\n\t\tsetIsLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post(\r\n\t\t\t\t\"http://localhost:3001/api/auth/login\",\r\n\t\t\t\t{ username, password }\r\n\t\t\t);\r\n\t\t\tconst { role } = response.data;\r\n\r\n\t\t\tauth.login({ username, role });\r\n\r\n\t\t\t// Redirect based on role\r\n\t\t\tconst redirectPaths = {\r\n\t\t\t\tadmin: \"/admin\",\r\n\t\t\t\treseller: \"/reseller\",\r\n\t\t\t\tcustomer: \"/customer\",\r\n\t\t\t};\r\n\r\n\t\t\tnavigate(redirectPaths[role] || \"/\", { replace: true });\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response && err.response.data && err.response.data.error) {\r\n\t\t\t\tsetError(err.response.data.error); // tampilkan pesan asli dari backend\r\n\t\t\t} else {\r\n\t\t\t\tsetError(\"Terjadi kesalahan saat registrasi.\");\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tsetIsLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n\t\t\t<div className=\"relative w-full max-w-md px-6 py-12 bg-white shadow-xl rounded-2xl\">\r\n\t\t\t\t{/* Decorative elements */}\r\n\t\t\t\t<div className=\"absolute -top-6 -left-6 w-24 h-24 bg-indigo-100 rounded-full opacity-70\"></div>\r\n\t\t\t\t<div className=\"absolute -bottom-6 -right-6 w-32 h-32 bg-purple-100 rounded-full opacity-70\"></div>\r\n\r\n\t\t\t\t<div className=\"relative z-10\">\r\n\t\t\t\t\t<div className=\"flex justify-center mb-10\">\r\n\t\t\t\t\t\t<div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 p-3 rounded-lg shadow-lg\">\r\n\t\t\t\t\t\t\t<h1 className=\"text-3xl font-bold text-white\">Toko Triani</h1>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<h2 className=\"text-2xl font-bold text-center text-gray-800 mb-2\">\r\n\t\t\t\t\t\tWelcome Back\r\n\t\t\t\t\t</h2>\r\n\t\t\t\t\t<p className=\"text-gray-500 text-center mb-8\">\r\n\t\t\t\t\t\tSign in to your account\r\n\t\t\t\t\t</p>\r\n\r\n\t\t\t\t\t{error && (\r\n\t\t\t\t\t\t<div className=\"mb-6 p-3 bg-red-50 text-red-600 rounded-lg text-sm font-medium flex items-center\">\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 mr-2\"\r\n\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\r\n\t\t\t\t\t\t\t\t\td=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t{error}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<form onSubmit={handleSubmit} className=\"space-y-5\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\thtmlFor=\"username\"\r\n\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tUsername\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"relative\">\r\n\t\t\t\t\t\t\t\t<div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\"></div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"username\"\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setUsername(e.target.value)}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"username\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\thtmlFor=\"password\"\r\n\t\t\t\t\t\t\t\tclassName=\"block text-sm font-medium text-gray-700 mb-1\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"relative\">\r\n\t\t\t\t\t\t\t\t<div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\"></div>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\tclassName=\"block w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"••••••••\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\r\n\t\t\t\t\t\t\t<div className=\"flex items-center\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tid=\"remember-me\"\r\n\t\t\t\t\t\t\t\t\tname=\"remember-me\"\r\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\thtmlFor=\"remember-me\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"ml-2 block text-sm text-gray-700\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tRemember me\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tonClick={() => navigate(\"/forgot-password\")}\r\n\t\t\t\t\t\t\t\tclassName=\"text-sm text-indigo-600 hover:text-indigo-500 font-medium\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tForgot password?\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tdisabled={isLoading}\r\n\t\t\t\t\t\t\tclassName={`w-full py-3 px-4 rounded-lg bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-medium shadow-md hover:shadow-lg transition-all ${\r\n\t\t\t\t\t\t\t\tisLoading ? \"opacity-70 cursor-not-allowed\" : \"\"\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center\">\r\n\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\r\n\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<circle\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"opacity-25\"\r\n\t\t\t\t\t\t\t\t\t\t\tcx=\"12\"\r\n\t\t\t\t\t\t\t\t\t\t\tcy=\"12\"\r\n\t\t\t\t\t\t\t\t\t\t\tr=\"10\"\r\n\t\t\t\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\tstrokeWidth=\"4\"\r\n\t\t\t\t\t\t\t\t\t\t></circle>\r\n\t\t\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"opacity-75\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\t\t\t\t\td=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\r\n\t\t\t\t\t\t\t\t\t\t></path>\r\n\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\tSigning in...\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\"Sign In\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</form>\r\n\r\n\t\t\t\t\t<div className=\"mt-8\">\r\n\t\t\t\t\t\t<div className=\"relative\">\r\n\t\t\t\t\t\t\t<div className=\"absolute inset-0 flex items-center\">\r\n\t\t\t\t\t\t\t\t<div className=\"w-full border-t border-gray-200\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"relative flex justify-center text-sm\">\r\n\t\t\t\t\t\t\t\t<span className=\"px-2 bg-white text-gray-500\">\r\n\t\t\t\t\t\t\t\t\tNew to Toko Triani?\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() => navigate(\"/register\")}\r\n\t\t\t\t\t\t\tclassName=\"mt-4 w-full py-2 px-4 border border-gray-200 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition flex items-center justify-center\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\tclassName=\"w-5 h-5 mr-2\"\r\n\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\t\t\tstrokeLinecap=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeLinejoin=\"round\"\r\n\t\t\t\t\t\t\t\t\tstrokeWidth={2}\r\n\t\t\t\t\t\t\t\t\td=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\tCreate an account\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n"],"names":["username","setUsername","useState","password","setPassword","error","setError","isLoading","setIsLoading","navigate","useNavigate","auth","useAuth","_jsx","className","children","_jsxs","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onSubmit","async","e","preventDefault","response","axios","post","role","data","login","admin","reseller","customer","replace","err","htmlFor","id","type","value","onChange","target","required","placeholder","name","onClick","disabled","concat","xmlns","cx","cy","r"],"sourceRoot":""}